# ========================================
# APPLICATION CONFIGURATION
# ========================================
spring.application.name=ims
server.port=8080

# ========================================
# DATABASE CONFIGURATION (PostgreSQL)
# ========================================
# Update these if you change docker-compose.yml credentials
spring.datasource.url=jdbc:postgresql://localhost:5432/interview_db
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.datasource.driver-class-name=org.postgresql.Driver

# ========================================
# JPA / HIBERNATE CONFIGURATION
# ========================================
# DDL auto: create, create-drop, update, validate, none
# For DEVELOPMENT: use 'update' - auto-creates/updates tables
# For PRODUCTION: use 'validate' - only validates schema
spring.jpa.hibernate.ddl-auto=update

# Show SQL queries in console (useful for learning)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Hibernate dialect for PostgreSQL
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Enable batch processing for better performance
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# ========================================
# SPRING AI - OLLAMA CONFIGURATION
# ========================================
# Ollama server URL (running in Docker)
spring.ai.ollama.base-url=http://localhost:11434

# Which Ollama model to use
# Options: llama2, mistral, codellama, llama3, etc.
# Run 'docker exec ollama ollama list' to see available models
spring.ai.ollama.chat.options.model=llama2

# AI Model parameters
# Temperature: 0.0 (deterministic) to 1.0 (creative)
# Lower = more focused, Higher = more creative
spring.ai.ollama.chat.options.temperature=0.7

# Max tokens in response
spring.ai.ollama.chat.options.num-predict=2000

# ========================================
# FILE UPLOAD CONFIGURATION
# ========================================
# Maximum file size for resume uploads (5MB)
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# Directory to store uploaded resumes
# This creates a 'resumes' folder in your project root
file.upload-dir=./resumes

# ========================================
# JWT CONFIGURATION
# ========================================
# IMPORTANT: Change this secret in production!
# Generate a secure secret: https://www.allkeysgenerator.com/Random/Security-Encryption-Key-Generator.aspx
# For now, this is fine for development
jwt.secret=YourSuperSecretKeyForJWTTokenGenerationChangeThisInProduction123456
jwt.expiration=86400000
# 86400000ms = 24 hours

# ========================================
# LOGGING CONFIGURATION
# ========================================
# Root logging level
logging.level.root=INFO

# Your application logging
logging.level.com.interview.management=DEBUG

# Hibernate SQL logging (already enabled by spring.jpa.show-sql)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Spring Security logging (useful for debugging auth issues)
logging.level.org.springframework.security=DEBUG

# Log file configuration
logging.file.name=logs/application.log
logging.file.max-size=10MB
logging.file.max-history=30

# ========================================
# SWAGGER / OpenAPI CONFIGURATION
# ========================================
# Swagger UI path: http://localhost:8080/swagger-ui.html
# API Docs JSON: http://localhost:8080/v3/api-docs
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true

# Show actuator endpoints in Swagger (if you add actuator later)
springdoc.show-actuator=false

# ========================================
# ASYNC PROCESSING CONFIGURATION
# ========================================
# For AI resume screening (runs in background)
spring.task.execution.pool.core-size=2
spring.task.execution.pool.max-size=5
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=async-

# ========================================
# ACTUATOR (Optional - for monitoring)
# ========================================
# Uncomment these if you add spring-boot-starter-actuator
# management.endpoints.web.exposure.include=health,info,metrics
# management.endpoint.health.show-details=always

# ========================================
# CORS CONFIGURATION (if you build a frontend later)
# ========================================
# For now, CORS is disabled in SecurityConfig
# If you build React/Angular frontend, configure here:
# cors.allowed-origins=http://localhost:3000
# cors.allowed-methods=GET,POST,PUT,DELETE,PATCH
# cors.allowed-headers=*

# ========================================
# DEVELOPMENT PROFILE SPECIFIC SETTINGS
# ========================================
# To use different settings in dev/prod, create:
# - application-dev.properties
# - application-prod.properties
# Then run with: --spring.profiles.active=dev